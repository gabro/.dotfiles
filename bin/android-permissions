#!/bin/zsh

[ "$#" -eq 1 ] || die "1 argument required, $# provided"

java -jar ~/UIC/Thesis/google-play-crawler/googleplay/googleplaycrawler-0.3.jar --conf ~/UIC/Thesis/google-play-crawler/googleplay/crawler.conf \
	permissions "$1" | grep -o 'android\.permission\.\w\+' | awk -F. '{ print $NF }' | sort

# FILE="$1.apk"
# if [ ! -f "$FILE" ]; then
#    java -jar ~/UIC/Thesis/google-play-crawler/googleplay/googleplaycrawler-0.3.jar --conf ~/UIC/Thesis/google-play-crawler/googleplay/crawler.conf \
#    	download "$1"
# fi
# aapt l -a "$FILE" 						|	# output the Manifest.xml 
# grep -o 'android\.permission\.\w\+' | 	# grep only the android permissions
# uniq								|	# remove duplicates
# awk -F. '{ print $NF }' 			|	# lose the qualified prefix
# sort									# sort in alphabetical order